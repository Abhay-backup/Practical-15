@model Practical_15_FormAuthentication.Models.User

@{
	ViewBag.Title = "Login";
}

<h2>Login Here</h2>

@if (TempData["Message"] != null)
{
	<div class="text-danger"> @TempData["Message"]</div>
}

@using (Html.BeginForm())
{
	@Html.AntiForgeryToken()

<div class="form-horizontal">

	<hr />
	@Html.ValidationSummary(true, "", new { @class = "text-danger" })
	<div class="form-group">
		@Html.LabelFor(model => model.UserName, htmlAttributes: new { @class = "control-label col-md-2" })
		<div class="col-md-10">
			@Html.EditorFor(model => model.UserName, new { htmlAttributes = new { @class = "form-control" } })
			@Html.ValidationMessageFor(model => model.UserName, "", new { @class = "text-danger" })
		</div>
	</div>

	<div class="form-group">
		@Html.LabelFor(model => model.Password, htmlAttributes: new { @class = "control-label col-md-2" })
		<div class="col-md-10">
			@Html.EditorFor(model => model.Password, new { htmlAttributes = new { @class = "form-control" } })
			@Html.ValidationMessageFor(model => model.Password, "", new { @class = "text-danger" })
		</div>
	</div>
	<br />
	@Html.ActionLink("Do not have an Account!", "Signin",null, new { @class = "text-decoration-none"})
	<br /><br />	
	<div class="form-group">
		<div class="col-md-offset-2 col-md-10">
			<input type="submit" value="Login" class="btn btn-outline-info" />
		</div>	
	</div>
</div>
}



@section Scripts {
	@Scripts.Render("~/bundles/jqueryval")

	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css" />

	<script>

		const passwordToggle = document.getElementById("togglePassword");
		const passwordFiled = document.getElementById("Password");

		passwordToggle.addEventListener("click", () => {
			const type = passwordFiled.getAttribute("type") === "password" ? "text" : "password";
			passwordFiled.setAttribute("type", type);

			if (passwordToggle.classList.contains("bi-eye")) {
				passwordToggle.classList.remove("bi-eye");
			}
			else {
				passwordToggle.classList.add("bi-eye");
			}

		})
	</script>
}
